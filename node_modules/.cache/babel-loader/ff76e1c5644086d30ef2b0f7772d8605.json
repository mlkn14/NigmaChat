{"ast":null,"code":"import \"antd-mobile/lib/button/style/css\";\nimport _Button from \"antd-mobile/lib/button\";\nimport \"antd-mobile/lib/result/style/css\";\nimport _Result from \"antd-mobile/lib/result\";\nimport \"antd-mobile/lib/list/style/css\";\nimport _List from \"antd-mobile/lib/list\";\nimport \"antd-mobile/lib/white-space/style/css\";\nimport _WhiteSpace from \"antd-mobile/lib/white-space\";\nimport \"antd-mobile/lib/input-item/style/css\";\nimport _InputItem from \"antd-mobile/lib/input-item\";\nimport \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nvar _jsxFileName = \"D:\\\\USK MI\\\\Semester 4\\\\MK\\\\Database Berbasis Web\\\\realtime-chatting-main\\\\realtime-chatting-main\\\\src\\\\containers\\\\ChangeInformation\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { reqUpdateUser } from '../../api';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar promise = null;\nexport default class ChangeInformation extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      //用户名\n      password: '',\n      //密码\n      password2: '',\n      //确认密码\n      signature: '',\n      //个性签名\n      avatar: ''\n    };\n\n    this.handleChange = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.save = () => {\n      const {\n        username,\n        password,\n        password2,\n        signature,\n        avatar\n      } = this.state;\n\n      if (username === '') {\n        _Toast.info('Nama pengguna tidak boleh kosong!', 1);\n\n        return;\n      } else if (password === '') {\n        _Toast.info('Kata sandi tidak boleh kosong!', 1);\n\n        return;\n      } else if (password2 === '') {\n        _Toast.info('Silakan masukkan kata sandi Anda lagi!', 1);\n\n        return;\n      } else if (password !== password2) {\n        _Toast.info('Kata sandi yang dimasukkan dua kali tidak konsisten!', 1);\n\n        return;\n      }\n\n      const userid = Cookies.get('userid');\n      promise = reqUpdateUser({\n        userid,\n        username,\n        password,\n        signature,\n        avatar\n      });\n      promise.then(value => {\n        const response = value.data;\n\n        if (response.code === 0) {\n          this.props.history.replace('/login');\n        } else {\n          _Toast.info(response.msg, 1);\n        }\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    if (promise) {\n      Promise.race([promise, Promise.resolve()]);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(_List, {\n        children: [/*#__PURE__*/_jsxDEV(_InputItem, {\n          placeholder: \"Masukkan Nama\",\n          onChange: val => {\n            this.handleChange('username', val);\n          },\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(_InputItem, {\n          placeholder: \"Masukkan Password\",\n          type: \"password\",\n          onChange: val => {\n            this.handleChange('password', val);\n          },\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(_InputItem, {\n          placeholder: \"Masukkan Konfirmasi Password\",\n          type: \"password\",\n          onChange: val => {\n            this.handleChange('password2', val);\n          },\n          children: \"Konfirmasi:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(_InputItem, {\n          placeholder: \"Masukkan Deskripsi\",\n          onChange: val => {\n            this.handleChange('signature', val);\n          },\n          children: \"Deskripsi:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(_InputItem, {\n          placeholder: \"Masukkan URL Profil\",\n          onChange: val => {\n            this.handleChange('avatar', val);\n          },\n          children: \"URL Profil:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(_WhiteSpace, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Result, {\n        img: /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: '60px',\n            height: '60px'\n          },\n          src: this.state.avatar,\n          alt: \"Tinjauan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Button, {\n        type: \"primary\",\n        onClick: this.save,\n        children: \"Simpan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/USK MI/Semester 4/MK/Database Berbasis Web/realtime-chatting-main/realtime-chatting-main/src/containers/ChangeInformation/index.jsx"],"names":["React","Component","reqUpdateUser","Cookies","promise","ChangeInformation","state","username","password","password2","signature","avatar","handleChange","name","value","setState","save","info","userid","get","then","response","data","code","props","history","replace","msg","componentWillUnmount","Promise","race","resolve","render","val","width","height"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,aAAT,QAA8B,WAA9B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAGA,IAAIC,OAAO,GAAG,IAAd;AACA,eAAe,MAAMC,iBAAN,SAAgCJ,SAAhC,CAA0C;AAAA;AAAA;AAAA,SACrDK,KADqD,GAC7C;AACJC,MAAAA,QAAQ,EAAE,EADN;AACS;AACbC,MAAAA,QAAQ,EAAE,EAFN;AAES;AACbC,MAAAA,SAAS,EAAE,EAHP;AAGU;AACdC,MAAAA,SAAS,EAAE,EAJP;AAIU;AACdC,MAAAA,MAAM,EAAE;AALJ,KAD6C;;AAAA,SAerDC,YAfqD,GAetC,CAACC,IAAD,EAAOC,KAAP,KAAe;AAC1B,WAAKC,QAAL,CAAc;AAAC,SAACF,IAAD,GAAQC;AAAT,OAAd;AACH,KAjBoD;;AAAA,SAmBrDE,IAnBqD,GAmB9C,MAAI;AACP,YAAM;AAACT,QAAAA,QAAD;AAAWC,QAAAA,QAAX;AAAqBC,QAAAA,SAArB;AAAgCC,QAAAA,SAAhC;AAA2CC,QAAAA;AAA3C,UAAqD,KAAKL,KAAhE;;AACA,UAAGC,QAAQ,KAAG,EAAd,EAAiB;AACb,eAAMU,IAAN,CAAW,mCAAX,EAAgD,CAAhD;;AACA;AACH,OAHD,MAGM,IAAGT,QAAQ,KAAG,EAAd,EAAiB;AACnB,eAAMS,IAAN,CAAW,gCAAX,EAA6C,CAA7C;;AACA;AACH,OAHK,MAGA,IAAGR,SAAS,KAAG,EAAf,EAAkB;AACpB,eAAMQ,IAAN,CAAW,wCAAX,EAAqD,CAArD;;AACA;AACH,OAHK,MAGA,IAAGT,QAAQ,KAAGC,SAAd,EAAwB;AAC1B,eAAMQ,IAAN,CAAW,sDAAX,EAAmE,CAAnE;;AACA;AACH;;AAED,YAAMC,MAAM,GAAGf,OAAO,CAACgB,GAAR,CAAY,QAAZ,CAAf;AACAf,MAAAA,OAAO,GAAGF,aAAa,CAAC;AAACgB,QAAAA,MAAD;AAASX,QAAAA,QAAT;AAAmBC,QAAAA,QAAnB;AAA6BE,QAAAA,SAA7B;AAAwCC,QAAAA;AAAxC,OAAD,CAAvB;AACAP,MAAAA,OAAO,CAACgB,IAAR,CAAaN,KAAK,IAAE;AAChB,cAAMO,QAAQ,GAAGP,KAAK,CAACQ,IAAvB;;AACA,YAAGD,QAAQ,CAACE,IAAT,KAAgB,CAAnB,EAAqB;AACjB,eAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B;AACH,SAFD,MAEK;AACD,iBAAMT,IAAN,CAAWI,QAAQ,CAACM,GAApB,EAAyB,CAAzB;AACH;AACJ,OAPD;AAQH,KA7CoD;AAAA;;AASrDC,EAAAA,oBAAoB,GAAE;AAClB,QAAGxB,OAAH,EAAW;AACPyB,MAAAA,OAAO,CAACC,IAAR,CAAa,CAAC1B,OAAD,EAAUyB,OAAO,CAACE,OAAR,EAAV,CAAb;AACH;AACJ;;AAmCDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA,gCACA;AAAW,UAAA,WAAW,EAAC,eAAvB;AAAuC,UAAA,QAAQ,EAAEC,GAAG,IAAI;AAAC,iBAAKrB,YAAL,CAAkB,UAAlB,EAA8BqB,GAA9B;AAAmC,WAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAW,UAAA,WAAW,EAAC,mBAAvB;AAA2C,UAAA,IAAI,EAAC,UAAhD;AAA2D,UAAA,QAAQ,EAAEA,GAAG,IAAI;AAAC,iBAAKrB,YAAL,CAAkB,UAAlB,EAA8BqB,GAA9B;AAAmC,WAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAW,UAAA,WAAW,EAAC,8BAAvB;AAAsD,UAAA,IAAI,EAAC,UAA3D;AAAsE,UAAA,QAAQ,EAAEA,GAAG,IAAI;AAAC,iBAAKrB,YAAL,CAAkB,WAAlB,EAA+BqB,GAA/B;AAAoC,WAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA,eAIA;AAAW,UAAA,WAAW,EAAC,oBAAvB;AAA4C,UAAA,QAAQ,EAAEA,GAAG,IAAI;AAAC,iBAAKrB,YAAL,CAAkB,WAAlB,EAA+BqB,GAA/B;AAAoC,WAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA,eAKA;AAAW,UAAA,WAAW,EAAC,qBAAvB;AAA6C,UAAA,QAAQ,EAAEA,GAAG,IAAI;AAAC,iBAAKrB,YAAL,CAAkB,QAAlB,EAA4BqB,GAA5B;AAAiC,WAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALA,eAMA;AAAA;AAAA;AAAA;AAAA,gBANA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAUI;AAAQ,QAAA,GAAG,eAAE;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,MAAM,EAAC;AAArB,WAAZ;AAA0C,UAAA,GAAG,EAAE,KAAK7B,KAAL,CAAWK,MAA1D;AAAkE,UAAA,GAAG,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA;AAAb;AAAA;AAAA;AAAA;AAAA,cAVJ,eAWI;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,OAAO,EAAE,KAAKK,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH;;AAhEoD","sourcesContent":["import React, { Component } from 'react'\r\nimport {List, InputItem, Button,WhiteSpace,Toast, Result} from 'antd-mobile'\r\nimport { reqUpdateUser } from '../../api'\r\nimport Cookies from 'js-cookie'\r\n\r\n\r\nvar promise = null\r\nexport default class ChangeInformation extends Component {\r\n    state = {\r\n        username: '',//用户名\r\n        password: '',//密码\r\n        password2: '',//确认密码\r\n        signature: '',//个性签名\r\n        avatar: ''\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        if(promise){\r\n            Promise.race([promise, Promise.resolve()])\r\n        }\r\n    }\r\n\r\n    handleChange = (name, value)=>{\r\n        this.setState({[name]: value})\r\n    }\r\n\r\n    save = ()=>{\r\n        const {username, password, password2, signature, avatar} = this.state\r\n        if(username===''){\r\n            Toast.info('Nama pengguna tidak boleh kosong!', 1);\r\n            return\r\n        }else if(password===''){\r\n            Toast.info('Kata sandi tidak boleh kosong!', 1);\r\n            return\r\n        }else if(password2===''){\r\n            Toast.info('Silakan masukkan kata sandi Anda lagi!', 1);\r\n            return\r\n        }else if(password!==password2){\r\n            Toast.info('Kata sandi yang dimasukkan dua kali tidak konsisten!', 1);\r\n            return\r\n        }\r\n        \r\n        const userid = Cookies.get('userid')\r\n        promise = reqUpdateUser({userid, username, password, signature, avatar})\r\n        promise.then(value=>{\r\n            const response = value.data \r\n            if(response.code===0){\r\n                this.props.history.replace('/login')\r\n            }else{\r\n                Toast.info(response.msg, 1)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <List>\r\n                <InputItem placeholder='Masukkan Nama' onChange={val => {this.handleChange('username', val)}}>Username:</InputItem>\r\n                <InputItem placeholder='Masukkan Password' type=\"password\" onChange={val => {this.handleChange('password', val)}}>Password:</InputItem>\r\n                <InputItem placeholder='Masukkan Konfirmasi Password' type=\"password\" onChange={val => {this.handleChange('password2', val)}}>Konfirmasi:</InputItem>\r\n                <InputItem placeholder='Masukkan Deskripsi' onChange={val => {this.handleChange('signature', val)}}>Deskripsi:</InputItem>\r\n                <InputItem placeholder='Masukkan URL Profil' onChange={val => {this.handleChange('avatar', val)}}>URL Profil:</InputItem>\r\n                <WhiteSpace/>\r\n                </List>\r\n                \r\n                <Result img={<img style={{width:'60px',height:'60px'}} src={this.state.avatar} alt='Tinjauan'/>}  />\r\n                <Button type='primary' onClick={this.save}>Simpan</Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}