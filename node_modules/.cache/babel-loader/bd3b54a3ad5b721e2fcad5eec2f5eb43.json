{"ast":null,"code":"/*\r\n能发送ajax请求的函数模块\r\n函数的返回值是promise对象\r\n */\nimport axios from 'axios';\nconst baseUrl = '';\nexport default function ajax(url, data = {}, type = 'GET') {\n  url = baseUrl + url;\n\n  if (type === 'GET') {\n    // 发送GET请求\n    // 拼请求参数串\n    // data: {username: tom, password: 123}\n    // paramStr: username=tom&password=123\n    let paramStr = '';\n    Object.keys(data).forEach(key => {\n      paramStr += key + '=' + data[key] + '&';\n    });\n\n    if (paramStr) {\n      paramStr = paramStr.substring(0, paramStr.length - 1);\n    } // 使用axios发get请求\n\n\n    return axios.get(url + '?' + paramStr);\n  } else {\n    // 发送POST请求\n    // 使用axios发post请求\n    return axios.post(url, data);\n  }\n}","map":{"version":3,"sources":["D:/USK MI/Semester 4/MK/Database Berbasis Web/realtime-chatting-main/realtime-chatting-main/src/api/ajax.js"],"names":["axios","baseUrl","ajax","url","data","type","paramStr","Object","keys","forEach","key","substring","length","get","post"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,EAAhB;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAC,EAAxB,EAA4BC,IAAI,GAAC,KAAjC,EAAwC;AACrDF,EAAAA,GAAG,GAAGF,OAAO,GAAGE,GAAhB;;AACA,MAAGE,IAAI,KAAG,KAAV,EAAiB;AAAE;AACjB;AACA;AACA;AACA,QAAIC,QAAQ,GAAG,EAAf;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0BC,GAAG,IAAI;AAC/BJ,MAAAA,QAAQ,IAAII,GAAG,GAAG,GAAN,GAAYN,IAAI,CAACM,GAAD,CAAhB,GAAwB,GAApC;AACD,KAFD;;AAGA,QAAGJ,QAAH,EAAa;AACXA,MAAAA,QAAQ,GAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,EAAsBL,QAAQ,CAACM,MAAT,GAAgB,CAAtC,CAAX;AACD,KAVc,CAWf;;;AACA,WAAOZ,KAAK,CAACa,GAAN,CAAUV,GAAG,GAAG,GAAN,GAAYG,QAAtB,CAAP;AACD,GAbD,MAaO;AAAC;AACN;AACA,WAAON,KAAK,CAACc,IAAN,CAAWX,GAAX,EAAgBC,IAAhB,CAAP;AACD;AACF","sourcesContent":["/*\r\n能发送ajax请求的函数模块\r\n函数的返回值是promise对象\r\n */\r\nimport axios from 'axios'\r\nconst baseUrl = ''\r\nexport default function ajax(url, data={}, type='GET') {\r\n  url = baseUrl + url\r\n  if(type==='GET') { // 发送GET请求\r\n    // 拼请求参数串\r\n    // data: {username: tom, password: 123}\r\n    // paramStr: username=tom&password=123\r\n    let paramStr = ''\r\n    Object.keys(data).forEach(key => {\r\n      paramStr += key + '=' + data[key] + '&'\r\n    })\r\n    if(paramStr) {\r\n      paramStr = paramStr.substring(0, paramStr.length-1)\r\n    }\r\n    // 使用axios发get请求\r\n    return axios.get(url + '?' + paramStr)\r\n  } else {// 发送POST请求\r\n    // 使用axios发post请求\r\n    return axios.post(url, data)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}